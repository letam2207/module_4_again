<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Danh s√°ch c·∫ßu th·ªß Vi·ªát Nam</title>

  <!-- Bootstrap 5 CDN -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    body {
      background: linear-gradient(135deg, #b71c1c, #d32f2f);
      font-family: 'Segoe UI', sans-serif;
      color: #fff;
      margin: 0;
      padding: 0;
      min-height: 100vh;
    }

    .container {
      background: rgba(255, 255, 255, 0.95);
      border-radius: 10px;
      padding: 30px;
      margin-top: 50px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.3);
    }

    h1 {
      color: #c62828;
      text-align: center;
      font-weight: 700;
      margin-bottom: 30px;
      position: relative;
    }

    h1::after {
      content: "‚òÖ";
      color: gold;
      font-size: 28px;
      position: absolute;
      right: 50%;
      transform: translateX(50%);
      top: 45px;
    }

    .btn-custom {
      background-color: #c62828;
      border: none;
      color: #fff;
    }
    .btn-custom:hover {
      background-color: #b71c1c;
      color: gold;
    }

    table {
      background: #fff;
      border-radius: 10px;
      overflow: hidden;
    }

    thead {
      background-color: #c62828;
      color: gold;
      font-weight: 600;
    }

    tbody tr:hover {
      background-color: rgba(255, 235, 59, 0.2);
    }

    img {
      width: 60px;
      height: 60px;
      object-fit: cover;
      border-radius: 8px;
    }

    .message {
      text-align: center;
      font-weight: bold;
      color: #c62828;
      background: rgba(255, 235, 59, 0.2);
      border: 1px solid gold;
      padding: 10px;
      border-radius: 5px;
    }

    .pagination a {
      color: #c62828;
    }

    .pagination a:hover {
      color: gold;
    }

    footer {
      text-align: center;
      color: #ffeb3b;
      margin-top: 30px;
      font-weight: 500;
    }
  </style>
</head>
<body>

<div class="container">
  <h1>Danh s√°ch c·∫ßu th·ªß Vi·ªát Nam</h1>

  <!-- Form t√¨m ki·∫øm -->
  <!-- Form t√¨m ki·∫øm -->
  <form th:action="@{/players}" method="get" class="row g-3 align-items-end justify-content-center mb-4">

    <div class="col-md-3">
      <label class="form-label text-dark fw-bold">T√¨m theo t√™n:</label>
      <input type="text" name="searchName" th:value="${searchName}" class="form-control"
             placeholder="üîç Nh·∫≠p t√™n c·∫ßu th·ªß">
    </div>

    <div class="col-md-2">
      <label class="form-label text-dark fw-bold">T·ª´ ng√†y:</label>
      <input type="date" name="startDate" th:value="${startDate}" class="form-control">
    </div>

    <div class="col-md-2">
      <label class="form-label text-dark fw-bold">ƒê·∫øn ng√†y:</label>
      <input type="date" name="endDate" th:value="${endDate}" class="form-control">
    </div>

    <div class="col-md-2">
      <label class="form-label text-dark fw-bold">Hi·ªÉn th·ªã:</label>
      <input type="number" name="size" min="1" max="50" th:value="${size}" class="form-control">
    </div>

    <div class="col-md-2">
      <button type="submit" class="btn btn-warning fw-bold w-100">L·ªçc</button>
    </div>
  </form>


  <div class="text-center mb-3">
    <a th:href="@{/players/save}" class="btn btn-success fw-bold">+ Th√™m c·∫ßu th·ªß m·ªõi</a>
  </div>

  <div th:if="${mess}" class="message mb-3" th:text="${mess}"></div>

  <!-- B·∫£ng danh s√°ch -->
  <div class="table-responsive">
    <table class="table table-striped align-middle text-center">
      <thead>
      <tr>
        <th>STT</th>
        <th>ID</th>
        <th>T√™n c·∫ßu th·ªß</th>
        <th>Ng√†y sinh</th>
        <th>Kinh nghi·ªám</th>
        <th>V·ªã tr√≠</th>
        <th>ƒê·ªôi b√≥ng</th>
        <th>·∫¢nh ƒë·∫°i di·ªán</th>
        <th>H√†nh ƒë·ªông</th>
      </tr>
      </thead>
      <tbody>
      <tr th:each="player, status : ${playerPage}">
        <td th:text="${status.count + playerPage.number * playerPage.size}"></td>
        <td th:text="${player.id}"></td>
        <td th:text="${player.name}"></td>
        <td th:text="${#temporals.format(player.dob, 'dd/MM/yyyy')}"></td>
        <td th:text="${player.experience}"></td>
        <td th:text="${player.position}"></td>
        <td th:text="${player.team != null ? player.team.name : 'Ch∆∞a c√≥'}"></td>
        <td>
          <img th:src="${player.avatar != null ? player.avatar : '/images/default-avatar.png'}" alt="avatar">
        </td>
        <td>
          <a th:href="@{'/players/detail/' + ${player.id}}" class="btn btn-outline-primary btn-sm">Chi ti·∫øt</a>
          <a th:href="@{'/players/edit/' + ${player.id}}" class="btn btn-outline-warning btn-sm">S·ª≠a</a>
          <form th:action="@{'/players/delete/' + ${player.id}}" method="post" style="display:inline;">
            <button type="submit" class="btn btn-outline-danger btn-sm"
                    onclick="return confirm('B·∫°n c√≥ ch·∫Øc mu·ªën xo√° c·∫ßu th·ªß n√†y?')">Xo√°</button>
          </form>
        </td>
      </tr>
      </tbody>
    </table>
  </div>

  <!-- Ph√¢n trang -->
  <nav class="pagination justify-content-center">
    <ul class="pagination">
      <li class="page-item" th:if="${playerPage.hasPrevious()}">
        <a class="page-link" th:href="@{/players(page=${playerPage.number - 1}, size=${size}, searchName=${searchName}, startDate=${startDate}, endDate=${endDate})}">
          ‚¨Ö Tr∆∞·ªõc
        </a>
      </li>
      <li class="page-item disabled">
        <a class="page-link text-dark bg-light fw-bold">
          Trang [[${playerPage.number + 1}]] / [[${playerPage.totalPages}]]
        </a>
      </li>
      <li class="page-item" th:if="${playerPage.hasNext()}">
        <a class="page-link" th:href="@{/players(page=${playerPage.number + 1}, size=${size}, searchName=${searchName}, startDate=${startDate}, endDate=${endDate})}">
          Sau ‚û°
        </a>
      </li>
    </ul>
  </nav>
</div>

<footer>
  üáªüá≥ Giao di·ªán c·∫£m h·ª©ng t·ª´ L√° c·ªù Vi·ªát Nam ‚Äì T·ª± h√†o d√¢n t·ªôc üáªüá≥
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
